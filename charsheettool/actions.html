<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=791, initial-scale=1.0" />
  <meta name="data-root" content="./data/">
  <meta name="google" content="notranslate">
  <meta http-equiv="Content-Language" content="en">
  <title>D&D - Action Economy</title>

  <!-- Web fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+DW+Pica+SC&family=Metal+Mania&display=swap" rel="stylesheet">
  <link href="https://db.onlinewebfonts.com/c/6854ad6e85145a7dce4321ea90bc9b57?family=Saber-Regular" rel="stylesheet">

  <!-- Shared CSS -->
  <link rel="stylesheet" href="assets/css/tokens.css">
  <link rel="stylesheet" href="assets/css/tooltip.css">
  <link rel="stylesheet" href="assets/css/sheet-base.css">
  <link rel="stylesheet" href="assets/css/character.css">
  <!-- Page-specific CSS (can be created later) -->
  <link rel="stylesheet" href="assets/css/actions.css">
</head>
<body>
  <div id="toolbar">
    <strong>Character:</strong>
    <select id="char-select" title="Choose a character JSON"></select>
    <input id="char-input" type="text" placeholder="or type a JSON file name (e.g., direcris.json)" style="flex:1;" />
    <button id="char-load">Load</button>
    <button id="save-char" style="margin-left:auto">Save Character</button>
    <span id="status" style="font-size:12px; color:#666;"></span>
  </div>

  <div id="wrapper">
    <div id="sheet">
      <img id="bg" src="Feywild_Green4.png" alt="Action Economy Sheet" />
      <!-- Header fields copied from character sheet -->
      <div id="field-name" class="field">
        <svg id="name-svg" viewBox="0 0 276 85" aria-label="Character Name">
          <defs>
            <path id="name-curve-top" d="M 8 34 Q 138 71 268 34" />
            <path id="name-curve-bottom" d="M 8 56 Q 138 92 268 56" />
          </defs>
          <text id="name-top" class="saber" font-size="16" text-anchor="middle" dy="-2">
            <textPath id="name-top-tp" href="#name-curve-top" startOffset="50%"></textPath>
          </text>
          <text id="name-bottom" class="saber" font-size="28" text-anchor="middle" dy="2">
            <textPath id="name-bottom-tp" href="#name-curve-bottom" startOffset="50%"></textPath>
          </text>
        </svg>
      </div>
      <div id="field-class" class="field"></div>
      <div id="field-level" class="field"></div>
      <div id="field-build" class="field"></div>
      <div id="field-eyeshair" class="field"></div>
      <div id="field-gender" class="field"></div>
      <div id="field-playername" class="field"></div>
      <div id="field-alignment" class="field"></div>
      <div id="field-race" class="field">
        <svg viewBox="0 0 127 88" aria-label="Race">
          <defs>
            <path id="race-curve" d="M 17 17 C 55 18 65 54 113 67" />
          </defs>
          <text id="race-text" class="saber" font-size="22" text-anchor="middle">
            <textPath id="race-tp" href="#race-curve" startOffset="50%"></textPath>
          </text>
        </svg>
      </div>
      <div id="field-background" class="field">
        <svg viewBox="0 0 118 93" aria-label="Background">
          <defs>
            <path id="background-curve" d="M 15 59 C 60 57 63 24 104 22" />
          </defs>
          <text id="background-text" class="saber" font-size="22" text-anchor="middle">
            <textPath id="background-tp" href="#background-curve" startOffset="50%"></textPath>
          </text>
        </svg>
      </div>

      <!-- Main content area for this page -->
      <div id="status-trackers" class="field">
        <!-- Status toggles like "Rage" will be added here by JS -->
      </div>
      <div id="actions-container" class="field">
        <div class="action-box" id="action-move"><h2>Move <span class="heading-helper"></span></h2></div>
        <div class="action-box" id="action-standard"><h2>Action <span class="heading-helper">(1 per turn)</span></h2></div>
        <div class="action-box" id="action-bonus"><h2>Bonus Action <span class="heading-helper">(Max. 1 per turn)</span></h2></div>
        <div class="action-box" id="action-reaction"><h2>Reaction <span class="heading-helper">(Max. 1 per round)</span></h2></div>
      </div>
    </div>
  </div>

  <!-- Shared JS -->
  <script src="./assets/js/common/textfit.js"></script>
  <script src="./assets/js/common/dom.js"></script>
  <script src="./assets/js/common/tooltip.js"></script>
  <script src="./assets/js/common/storage.js"></script>
  <script src="./assets/js/common/name-curves.js"></script>
  <script src="./assets/js/common/toolbar.js"></script>
  <script src="./assets/js/common/ribbon-button.js"></script>

  <!-- Page-specific logic -->
  <!-- Dependencies for spell data -->
  <script src="./assets/js/common/rules.js"></script>
  <script src="./assets/js/glue-spells.js"></script>

  <script src="./assets/js/actions-logic.js"></script>
  <script src="./assets/js/actions-page.js"></script>
</body>
</html>